(* Auto-generated from SINAMICS KB *)
(* Alarms and Faults Database for TIA Portal *)

TYPE AlarmRecord
STRUCT
    Code : STRING[10];
    Type : STRING[10];
    Description : STRING[256];
    Solution : STRING[256];
    SectionID : STRING[20];
END_STRUCT
END_TYPE

(* Tabella allarmi *)
VAR CONSTANT
    ALARM_TABLE : ARRAY [1..18] OF AlarmRecord := (
        (
            Code := "0230",
            Type := "ALARM",
            Description := "if a sine-wave filter is parameterized as output filter (p0230 = 3, 4), then only responses can be s",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010541"
        ),
        (
            Code := "0302",
            Type := "ALARM",
            Description := "drive commissioning can only be exited if the code number that was downloaded (r0302) matches the st",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010882"
        ),
        (
            Code := "0325",
            Type := "ALARM",
            Description := "the value is automatically pre-assigned for the following events:
- for p0325 = 0 and automatic calc",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_011974"
        ),
        (
            Code := "1750",
            Type := "ALARM",
            Description := "1750 – monitoring functions, faults, alarms",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_121044"
        ),
        (
            Code := "2111",
            Type := "ALARM",
            Description := "alarms counter
r2111",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_121060"
        ),
        (
            Code := "2135",
            Type := "ALARM",
            Description := "for a thermal power unit overload, an appropriate alarm or fault is output, and r2135.15 or r2135.13",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010512"
        ),
        (
            Code := "2546",
            Type := "ALARM",
            Description := "2546 – control word, faults/alarms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_118722"
        ),
        (
            Code := "2548",
            Type := "ALARM",
            Description := "2548 – status word, faults/alarms 1 and 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . .",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_118724"
        ),
        (
            Code := "2802",
            Type := "ALARM",
            Description := "2802 – monitoring functions and faults/alarms . . . . . . . . . . . . . . . . . . . . . . . . . . .",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_118752"
        ),
        (
            Code := "5390",
            Type := "ALARM",
            Description := "mot_temp_mod 3 alarm threshold image p5390 / a thr image p5390",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_117783"
        ),
        (
            Code := "8065",
            Type := "ALARM",
            Description := "[8065] alarm buffer",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_121061"
        ),
        (
            Code := "8070",
            Type := "ALARM",
            Description := "[8070] fault/alarm trigger word",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_121067"
        ),
        (
            Code := "8075",
            Type := "ALARM",
            Description := "[8075] fault/alarm configuration",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_121097"
        ),
        (
            Code := "9938",
            Type := "ALARM",
            Description := "re bit 00:
to activate this function, p9938 must be set to 0 (inactive).
after changing the error co",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_111033"
        ),
        (
            Code := "a0681",
            Type := "ALARM",
            Description := "sets the voltage threshold to initiate alarm a06810.
the value represents an offset so that the alar",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010279"
        ),
        (
            Code := "ceede",
            Type := "ALARM",
            Description := "sets the alarm threshold for the i2t power unit overload.
drive:
if this threshold is exceeded, an o",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010592"
        ),
        (
            Code := "f3110",
            Type := "ALARM",
            Description := "fault/
alarm messages
f31100-a33904",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_120786"
        ),
        (
            Code := "feedb",
            Type := "ALARM",
            Description := "no function
sto active
ss1 active
ss2 active
sos active
sls active
ssm feedback signal active
safe s",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_114255"
        )
    );

    FAULT_TABLE : ARRAY [1..14] OF AlarmRecord := (
        (
            Code := "0210",
            Type := "FAULT",
            Description := "the warning information associated with p0210 must be carefully observed.",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010317"
        ),
        (
            Code := "0230",
            Type := "FAULT",
            Description := "if a sine-wave filter is parameterized as output filter (p0230 = 3, 4), then only responses can be s",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010541"
        ),
        (
            Code := "2135",
            Type := "FAULT",
            Description := "for a thermal power unit overload, an appropriate alarm or fault is output, and r2135.15 or r2135.13",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010512"
        ),
        (
            Code := "9406",
            Type := "FAULT",
            Description := "all indices from r9406 to r9408 designate the same parameter.
r9406[x] parameter number, parameter n",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_104400"
        ),
        (
            Code := "9563",
            Type := "FAULT",
            Description := "stop a
stop b
stop c
stop d
stop e
sets the stop response via p9563 (sls-specific)
stop a with delay",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_106591"
        ),
        (
            Code := "9658",
            Type := "FAULT",
            Description := "for a crosswise data comparison between p9658 and p9858, a difference of one safety monitoring clock",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_110023"
        ),
        (
            Code := "9794",
            Type := "FAULT",
            Description := "example:
r9794[0] = 1 (monitoring clock cycle)
r9794[1] = 2 (enable safety functions)
r9794[2] = 3 (",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_109631"
        ),
        (
            Code := "9894",
            Type := "FAULT",
            Description := "example:
r9894[0] = 1 (monitoring clock cycle)
r9894[1] = 2 (enable safety functions)
r9894[2] = 3 (",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_110247"
        ),
        (
            Code := "cbe20",
            Type := "FAULT",
            Description := "cbe20 default gateway of station active / cbe20 def gw act",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_101759"
        ),
        (
            Code := "ceede",
            Type := "FAULT",
            Description := "if the value displayed is exceeded, message c01711 is output indicating relevant subsequent faults.",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_108484"
        ),
        (
            Code := "effec",
            Type := "FAULT",
            Description := "rounding effects can occur in the last decimal place of the parameterized time.
the debounce time is",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_109966"
        ),
        (
            Code := "f0161",
            Type := "FAULT",
            Description := "a complete list of numbers for crosswise-compared data items appears in fault f01611.",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_109655"
        ),
        (
            Code := "f3000",
            Type := "FAULT",
            Description := "sets the absolute value by which the threshold to initiate the undervoltage fault (f30003) is reduce",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_010251"
        ),
        (
            Code := "f3061",
            Type := "FAULT",
            Description := "the complete list of numbers for crosswise data comparison is listed in fault f30611.",
            Solution := "Consultare manuale SINAMICS S120/S150",
            SectionID := "sezione_110271"
        )
    );
END_VAR

FUNCTION SearchAlarm : AlarmRecord
    VAR_INPUT
        AlarmCode : STRING;
    END_VAR
    VAR
        i : INT;
        NotFound : AlarmRecord;
    END_VAR
BEGIN
    NotFound.Code := '';

    FOR i := 1 TO ARRAY_SIZE(ALARM_TABLE, 1) DO
        IF ALARM_TABLE[i].Code = AlarmCode THEN
            RETURN ALARM_TABLE[i];
        END_IF;
    END_FOR;

    RETURN NotFound;
END_FUNCTION

FUNCTION SearchFault : AlarmRecord
    VAR_INPUT
        FaultCode : STRING;
    END_VAR
    VAR
        i : INT;
        NotFound : AlarmRecord;
    END_VAR
BEGIN
    NotFound.Code := '';

    FOR i := 1 TO ARRAY_SIZE(FAULT_TABLE, 1) DO
        IF FAULT_TABLE[i].Code = FaultCode THEN
            RETURN FAULT_TABLE[i];
        END_IF;
    END_FOR;

    RETURN NotFound;
END_FUNCTION
